<!DOCTYPE html>
<html>
<head>
	<style>
	#cont {
    width: 300px;
    border: 4px solid grey;
    box-sizing: border-box;
}
	</style>
	<title>Bill details Test</title>
	<meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="static/js/w3.js"></script>
</head>
<body>
<div w3-include-html={{ url_for('header') }}></div>
	<div class="container" id="cont">
	<div class="col-sm-12"><h1 class="text-muted">Bill No: {{ bill.bill_no }} | Bill Date {{ bill.bill_date}}</h1> </div>
	<div class="col-sm-12"><h3 class="text-muted">Bill Details: </h3></div>
	<table class="table table-striped">
		<!-- [(<Product p3>,<Transaction 1>),(<Product p4>,<Transaction 2>)] -->
		<!-- so while iterating we get a tuple with 2 objects  -->
		<!-- so i[0] is <Product> object and i[1] is <Transaction> object -->
		<tr> <td>Name</td> <td>Quantity</td> <td>Price</td> <td>Quantity</td> <td>SGST</td> <td>CGST</td> <td> Total</td> </tr>
		

		{% for i in details %}
			<tr> <td>{{ i[0].p_name }}</td> <td>{{ i[1].quantity }}</td> <td>{{ i[1].p_price }}</td> <td>{{ i[1].quantity }}</td> <td>{{ i[1].sgst }}</td> <td>{{ i[1].cgst }}</td> <td>{{ i[1].product_total }}</td> 
			</tr>
		{% endfor %}
	</table>
	<p><strong>Total Items: {{ bill.total_item }}</strong></p>
	
	<p><strong>Total GST: Rs.{{ bill.gst }}</strong></p>
	<p><strong> Total Amount: Rs.{{ bill.bill_amt }}</strong> </p>
	</div>
	<div w3-include-html={{ url_for('footer') }}></div>
<script>
w3.includeHTML();
</script>
</body>
</html>

